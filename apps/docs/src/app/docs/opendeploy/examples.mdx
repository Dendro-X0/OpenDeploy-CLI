import { DocsLayout } from "@/components/layout/docs/docs-layout"

export const metadata = { title: "OpenDeploy CLI — Examples" }

<DocsLayout showTableOfContents={true} tableOfContents={[
  { id: 'env-sync-dry-run', title: 'Env Sync (dry-run + JSON)', level: 2 },
  { id: 'env-pull', title: 'Env Pull', level: 2 },
  { id: 'seed-prisma', title: 'Seeding (Prisma)', level: 2 },
  { id: 'seed-script', title: 'Seeding (Drizzle Script)', level: 2 },
  { id: 'deploy-vercel', title: 'Deploy (Vercel)', level: 2 },
  { id: 'run-orchestrate', title: 'Run (Orchestrate)', level: 2 },
  { id: 'github-pages', title: 'GitHub Pages (Static Export)', level: 2 },
]}>
  <article className="prose prose-gray dark:prose-invert max-w-none">
    <h1>Examples</h1>

    <h2 id="env-sync-dry-run">Env Sync (dry-run + JSON)</h2>

```bash
# From your app directory with .env.local present
opd env sync vercel --file .env.local --env preview --dry-run --json
```

    <h2 id="env-pull">Env Pull</h2>

```bash
# Preview → .env.preview.local
opd env pull vercel --env preview
# Production → .env.production.local
opd env pull vercel --env prod
```

    <h2 id="seed-prisma">Seeding (Prisma)</h2>

```bash
opd seed --schema prisma --env-file .env.production.local --env prod --yes --json
```

    <h2 id="seed-script">Seeding (Drizzle Script)</h2>

```bash
opd seed --schema script --script db:push --env-file ../../apps/web/.env.production.local --env prod --yes --json
```

    <h2 id="deploy-vercel">Deploy (Vercel)</h2>

```bash
# Dry-run from monorepo root (apps/web)
opd up vercel --env preview --json --path apps/web
```

    <h2 id="run-orchestrate">Run (Orchestrate)</h2>

```bash
# From workspace root
opd run --all --env preview --dry-run --json
```

    <h2 id="github-pages">GitHub Pages (Static Export)</h2>

    <p>
      For GitHub Pages, export your site statically and publish to the <code>gh-pages</code> branch. OpenDeploy can help with static export and opening dashboards.
    </p>

```bash
# Next.js 15+ static export (next.config.ts)
# output: 'export', images.unoptimized: true, trailingSlash: true

# Build then publish via provider page or CLI
pnpm build
opd open github  # open Pages settings/dashboard
```

    <p>
      If your site is served from <code>https://&lt;owner&gt;.github.io/&lt;repo&gt;</code>, set <code>basePath</code> and <code>assetPrefix</code> to <code>/&lt;repo&gt;</code> in your Next.js config.
    </p>
  </article>
</DocsLayout>
